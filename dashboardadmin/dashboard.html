<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>ZILA Admin Dashboard</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.min.js"></script>

<style>
body{
  margin:0;
  font-family:Arial,Helvetica,sans-serif;
  background:radial-gradient(circle at top,#2b5876,#0b0f14 65%);
  color:#fff;
}
.header{
  padding:20px;
  background:rgba(10,15,20,.85);
  backdrop-filter:blur(10px);
  text-align:center;
  font-size:20px;
  font-weight:bold;
}
.container{
  max-width:600px;
  margin:auto;
  padding:30px;
}
.card{
  background:rgba(20,30,40,.8);
  backdrop-filter:blur(14px);
  border-radius:20px;
  padding:26px;
  margin-bottom:30px;
}
button{
  width:100%;
  padding:14px;
  margin-top:14px;
  border:none;
  border-radius:14px;
  background:#00ff9c;
  font-weight:bold;
}
.status{margin-top:12px;font-size:13px;color:#00ff9c}
.danger{background:#ff4d4d}
</style>
</head>

<body>

<div class="header">üîê ZILA ADMIN DASHBOARD</div>

<div class="container">

<div class="card">
  <button onclick="connectWallet()">Connect Owner Wallet</button>
  <div class="status" id="walletStatus"></div>
</div>

<div class="card">
  <button onclick="withdrawPOL()" class="danger">Withdraw All POL</button>
  <div class="status" id="withdrawStatus"></div>
</div>

</div>

<script>
const PRESALE_ADDRESS = "0x72cF8781aa3A6D7FD3324CD0dAA8b858461849d7";

const presaleABI = [
  "function withdrawPOL()"
];

let provider, signer;

async function connectWallet(){
  await ethereum.request({method:"eth_requestAccounts"});
  await ethereum.request({
    method:"wallet_switchEthereumChain",
    params:[{chainId:"0x89"}]
  });
  provider = new ethers.providers.Web3Provider(ethereum);
  signer = provider.getSigner();
  const user = await signer.getAddress();
  walletStatus.innerText =
    "Connected: " + user.slice(0,4)+"***"+user.slice(-4);
}

async function withdrawPOL(){
  const c = new ethers.Contract(PRESALE_ADDRESS, presaleABI, signer);
  withdrawStatus.innerText = "Withdrawing...";
  await (await c.withdrawPOL()).wait();
  withdrawStatus.innerText = "Withdraw success";
}
</script>

</body>
</html>
